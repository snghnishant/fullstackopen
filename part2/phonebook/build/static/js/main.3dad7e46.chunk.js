(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,n,t){},22:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(0),u=t(1),a=t.n(u),r=t(15),o=t.n(r),i=(t(21),t(6)),s=t(3),l=(t(22),function(e){var n=e.name,t=e.phone;return Object(c.jsxs)("li",{children:[n," : ",t]})}),j=function(e){var n=e.value1,t=e.handler1,u=e.value2,a=e.handler2,r=e.handler3;return Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:["NAME: ",Object(c.jsx)("input",{value:n,onChange:t})," ",Object(c.jsx)("br",{}),"PHONE: ",Object(c.jsx)("input",{value:u,onChange:a})," ",Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",onClick:r,children:"Add Contact"})})]})},d=function(e){var n=e.filterName,t=e.event;return Object(c.jsxs)("div",{children:["Search Contacts: ",Object(c.jsx)("input",{value:n,onChange:t})]})},b=t(4),f=t.n(b),h="/api/persons",O=function(){return f.a.get(h).then((function(e){return e.data}))},m=function(e){var n=e.message;return Object(c.jsx)("p",{style:{color:"green"},children:n})},x=function(e){var n=e.message;return Object(c.jsx)("p",{style:{color:"red"},children:n})},p=function(){var e=Object(u.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],r=Object(u.useState)(""),o=Object(s.a)(r,2),b=o[0],p=o[1],v=Object(u.useState)(""),g=Object(s.a)(v,2),C=g[0],w=g[1],k=Object(u.useState)(""),y=Object(s.a)(k,2),S=y[0],T=y[1],E=Object(u.useState)(null),N=Object(s.a)(E,2),A=N[0],D=N[1],L=Object(u.useState)(null),P=Object(s.a)(L,2),B=P[0],I=P[1],J=function(e,n){window.confirm("Delete Contact ".concat(n))&&function(e){return f.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(){O().then((function(e){return a(e)}))})).catch((function(e){I("".concat(n," already removed from the list.")),setTimeout((function(){I(null)}),5e3),O().then((function(e){return a(e)}))}))},M=""!==S?t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})):[];return Object(u.useEffect)((function(){O().then((function(e){return a(e)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phone Book"}),Object(c.jsx)(m,{message:A}),Object(c.jsx)(x,{message:B}),Object(c.jsx)(d,{filterName:S,event:function(e){T(e.target.value)}}),Object(c.jsx)("ul",{children:M.map((function(e){return Object(c.jsx)(l,{name:e.name,phone:e.number},e.id)}))}),Object(c.jsx)(j,{value1:b,handler1:function(e){p(e.target.value)},value2:C,handler2:function(e){w(e.target.value)},handler3:function(e){e.preventDefault();var n,c={id:t.length+1,name:b,number:C};if(t.find((function(e){return e.name===b}))){if(window.confirm("".concat(b," is already added to phonebook, do you want to update the number?"))){var u=t.findIndex((function(e){return e.name===b})),r=Object(i.a)(Object(i.a)({},t[u]),{},{number:C});(n=r,f.a.put("".concat(h,"/").concat(n.id),n).then((function(e){return e.data}))).then((function(){p(""),w(""),O().then((function(e){return a(e)})),D("".concat(r.name," phone number has been updated to ").concat(r.number)),setTimeout((function(){D(null)}),5e3)}))}}else t.find((function(e){return e.number===C}))?(I("".concat(C," already present. Can't Add!")),setTimeout((function(){I(null)}),5e3)):""===!b||""===!C?function(e){return f.a.post(h,e).then((function(e){return e.data}))}(c).then((function(e){a(t.concat(e)),p(""),w(""),D("".concat(c.name," was added to list.")),setTimeout((function(){D(null)}),5e3)})):(I("Please fill both the fields"),setTimeout((function(){I(null)}),5e3))}}),Object(c.jsx)("h2",{children:"Contact List"}),Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsxs)("li",{children:[e.name," ",e.number,Object(c.jsx)("button",{onClick:function(){J(e.id,e.name)},children:"Delete"})]},e.id)}))})]})};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3dad7e46.chunk.js.map