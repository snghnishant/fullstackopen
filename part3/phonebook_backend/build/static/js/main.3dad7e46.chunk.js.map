{"version":3,"sources":["Components/listItem.js","Components/contactForm.js","Components/searchContact.js","Services/persons.js","App.js","index.js"],"names":["ListItem","name","phone","ContactForm","value1","handler1","value2","handler2","handler3","value","onChange","type","onClick","SearchForm","filterName","event","baseURL","getAll","axios","get","then","response","data","Notification","message","style","color","Error","App","useState","persons","setPersons","newName","setNewName","newPhone","setNewPhone","setFilterName","notification","setNotification","errorMessage","setErrorMessage","handleDelete","id","window","confirm","delete","deleteContact","newData","catch","error","setTimeout","matchedContacts","filter","person","toLowerCase","includes","useEffect","initialData","target","map","number","preventDefault","recordObject","length","find","index","findIndex","updatedData","put","post","addNew","returnedData","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3dad7e46.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst ListItem = ({ name, phone }) => {\r\n\treturn (\r\n\t\t<li>\r\n\t\t\t{name} : {phone}\r\n\t\t</li>\r\n\t);\r\n};\r\n\r\nexport default ListItem;\r\n","import React from \"react\";\r\n\r\nconst ContactForm = ({ value1, handler1, value2, handler2, handler3 }) => {\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\tNAME: <input value={value1} onChange={handler1} /> <br />\r\n\t\t\t\tPHONE: <input value={value2} onChange={handler2} /> <br />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\" onClick={handler3}>\r\n\t\t\t\t\tAdd Contact\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default ContactForm;\r\n","import React from \"react\";\r\n\r\nconst SearchForm = ({ filterName, event }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tSearch Contacts: <input value={filterName} onChange={event} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchForm;\r\n","import axios from \"axios\";\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseURL);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst addNew = (newData) => {\r\n\tconst request = axios.post(baseURL, newData);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst deleteContact = (id) => {\r\n\tconst request = axios.delete(`${baseURL}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst updateContact = (newData) => {\r\n\tconst request = axios.put(`${baseURL}/${newData.id}`, newData);\r\n\treturn request.then((response) => response.data);\r\n};\r\nexport { getAll, addNew, deleteContact, updateContact };\r\n","import { React, useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport ListItem from \"./Components/listItem\";\nimport ContactForm from \"./Components/contactForm\";\nimport SearchForm from \"./Components/searchContact\";\nimport {\n\tgetAll,\n\taddNew,\n\tdeleteContact,\n\tupdateContact,\n} from \"./Services/persons\";\n\nconst Notification = ({ message }) => {\n\treturn (\n\t\t<p\n\t\t\tstyle={{\n\t\t\t\tcolor: \"green\",\n\t\t\t}}\n\t\t>\n\t\t\t{message}\n\t\t</p>\n\t);\n};\n\nconst Error = ({ message }) => {\n\treturn (\n\t\t<p\n\t\t\tstyle={{\n\t\t\t\tcolor: \"red\",\n\t\t\t}}\n\t\t>\n\t\t\t{message}\n\t\t</p>\n\t);\n};\n\nconst App = () => {\n\t//State Initialization\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newPhone, setNewPhone] = useState(\"\");\n\tconst [filterName, setFilterName] = useState(\"\");\n\tconst [notification, setNotification] = useState(null);\n\tconst [errorMessage, setErrorMessage] = useState(null);\n\n\t//Event handlers\n\tconst handleFilterNameChange = (event) => {\n\t\tsetFilterName(event.target.value);\n\t};\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handlePhoneChange = (event) => {\n\t\tsetNewPhone(event.target.value);\n\t};\n\n\t//Form submit handler\n\tconst addContact = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst recordObject = {\n\t\t\tid: persons.length + 1,\n\t\t\tname: newName,\n\t\t\tnumber: newPhone,\n\t\t};\n\n\t\tif (persons.find((person) => person.name === newName)) {\n\t\t\tconst updateAction = window.confirm(\n\t\t\t\t`${newName} is already added to phonebook, do you want to update the number?`\n\t\t\t);\n\n\t\t\tif (updateAction) {\n\t\t\t\tconst index = persons.findIndex(\n\t\t\t\t\t(person) => person.name === newName\n\t\t\t\t);\n\n\t\t\t\tconst updatedData = { ...persons[index], number: newPhone };\n\n\t\t\t\tupdateContact(updatedData).then(() => {\n\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\tsetNewPhone(\"\");\n\t\t\t\t\tgetAll().then((newData) => setPersons(newData));\n\t\t\t\t\tsetNotification(\n\t\t\t\t\t\t`${updatedData.name} phone number has been updated to ${updatedData.number}`\n\t\t\t\t\t);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (persons.find((person) => person.number === newPhone)) {\n\t\t\tsetErrorMessage(`${newPhone} already present. Can't Add!`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorMessage(null);\n\t\t\t}, 5000);\n\t\t} else {\n\t\t\tif (!newName === \"\" || !newPhone === \"\") {\n\t\t\t\taddNew(recordObject).then((returnedData) => {\n\t\t\t\t\tsetPersons(persons.concat(returnedData));\n\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\tsetNewPhone(\"\");\n\t\t\t\t\tsetNotification(`${recordObject.name} was added to list.`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotification(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetErrorMessage(`Please fill both the fields`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}\n\t};\n\n\t// delete contact handler\n\tconst handleDelete = (id, name) => {\n\t\tconst res = window.confirm(`Delete Contact ${name}`);\n\t\tif (res) {\n\t\t\tdeleteContact(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tgetAll().then((newData) => setPersons(newData));\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetErrorMessage(`${name} already removed from the list.`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t\tgetAll().then((newData) => setPersons(newData));\n\t\t\t\t});\n\t\t}\n\t};\n\n\t// Case Insensitive contact filtering\n\tconst matchedContacts =\n\t\tfilterName !== \"\"\n\t\t\t? persons.filter((person) =>\n\t\t\t\t\tperson.name.toLowerCase().includes(filterName.toLowerCase())\n\t\t\t  )\n\t\t\t: [];\n\n\t//Initial fetching of data from the json-server\n\tconst fetchInitData = () => {\n\t\tgetAll().then((initialData) => setPersons(initialData));\n\t};\n\n\t//Fetching and data initialization\n\tuseEffect(fetchInitData, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phone Book</h2>\n\t\t\t<Notification message={notification} />\n\t\t\t<Error message={errorMessage} />\n\t\t\t<SearchForm\n\t\t\t\tfilterName={filterName}\n\t\t\t\tevent={handleFilterNameChange}\n\t\t\t/>\n\t\t\t<ul>\n\t\t\t\t{matchedContacts.map((person) => (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tkey={person.id}\n\t\t\t\t\t\tname={person.name}\n\t\t\t\t\t\tphone={person.number}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\n\t\t\t<ContactForm\n\t\t\t\tvalue1={newName}\n\t\t\t\thandler1={handleNameChange}\n\t\t\t\tvalue2={newPhone}\n\t\t\t\thandler2={handlePhoneChange}\n\t\t\t\thandler3={addContact}\n\t\t\t/>\n\n\t\t\t<h2>Contact List</h2>\n\t\t\t<ul>\n\t\t\t\t{persons.map((person) => (\n\t\t\t\t\t<li key={person.id}>\n\t\t\t\t\t\t{person.name} {person.number}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleDelete(person.id, person.name);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}