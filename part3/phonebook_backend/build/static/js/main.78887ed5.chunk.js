(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,n,t){},22:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(1),u=t.n(o),a=t(15),r=t.n(a),i=(t(21),t(6)),s=t(3),l=(t(22),function(e){var n=e.name,t=e.phone;return Object(c.jsxs)("li",{children:[n," : ",t]})}),d=function(e){var n=e.value1,t=e.handler1,o=e.value2,u=e.handler2,a=e.handler3;return Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:["NAME: ",Object(c.jsx)("input",{value:n,onChange:t})," ",Object(c.jsx)("br",{}),"PHONE: ",Object(c.jsx)("input",{value:o,onChange:u})," ",Object(c.jsx)("br",{})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",onClick:a,children:"Add Contact"})})]})},j=function(e){var n=e.filterName,t=e.event;return Object(c.jsxs)("div",{children:["Search Contacts: ",Object(c.jsx)("input",{value:n,onChange:t})]})},f=t(4),b=t.n(f),h="/api/persons",O=function(){return b.a.get(h).then((function(e){return e.data}))},m=function(e){var n=e.message;return Object(c.jsx)("p",{style:{color:"green"},children:n})},p=function(e){var n=e.message;return Object(c.jsx)("p",{style:{color:"red"},children:n})},x=function(){var e=Object(o.useState)([]),n=Object(s.a)(e,2),t=n[0],u=n[1],a=Object(o.useState)(""),r=Object(s.a)(a,2),f=r[0],x=r[1],v=Object(o.useState)(""),g=Object(s.a)(v,2),C=g[0],w=g[1],k=Object(o.useState)(""),y=Object(s.a)(k,2),S=y[0],T=y[1],E=Object(o.useState)(null),N=Object(s.a)(E,2),A=N[0],D=N[1],L=Object(o.useState)(null),P=Object(s.a)(L,2),B=P[0],I=P[1],J=function(e,n){window.confirm("Delete Contact ".concat(n))&&function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(){O().then((function(e){return u(e)}))})).catch((function(e){I("".concat(n," already removed from the list.")),setTimeout((function(){I(null)}),5e3),O().then((function(e){return u(e)}))}))},M=""!==S?t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())})):[];return Object(o.useEffect)((function(){O().then((function(e){return u(e)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phone Book"}),Object(c.jsx)(m,{message:A}),Object(c.jsx)(p,{message:B}),Object(c.jsx)(j,{filterName:S,event:function(e){T(e.target.value)}}),Object(c.jsx)("ul",{children:M.map((function(e){return Object(c.jsx)(l,{name:e.name,phone:e.number},e.id)}))}),Object(c.jsx)(d,{value1:f,handler1:function(e){x(e.target.value)},value2:C,handler2:function(e){w(e.target.value)},handler3:function(e){e.preventDefault();var n,c={id:t.length+1,name:f,number:C};if(t.find((function(e){return e.name===f}))){if(window.confirm("".concat(f," is already added to phonebook, do you want to update the number?"))){var o=t.findIndex((function(e){return e.name===f})),a=Object(i.a)(Object(i.a)({},t[o]),{},{number:C});(n=a,b.a.put("".concat(h,"/").concat(n.id),n).then((function(e){return e.data}))).then((function(){x(""),w(""),O().then((function(e){return u(e)})),D("".concat(a.name," phone number has been updated to ").concat(a.number)),setTimeout((function(){D(null)}),5e3)})).catch((function(e){I("".concat(e.response.data.error)),setTimeout((function(){I(null)}),5e3)}))}}else t.find((function(e){return e.number===C}))?(I("".concat(C," already present. Can't Add!")),setTimeout((function(){I(null)}),5e3)):""===f||""===C?(I("Please fill both the fields"),setTimeout((function(){I(null)}),5e3)):function(e){return b.a.post(h,e).then((function(e){return e.data}))}(c).then((function(e){u(t.concat(e)),x(""),w(""),D("".concat(c.name," was added to list.")),setTimeout((function(){D(null)}),5e3)})).catch((function(e){I("".concat(e.response.data.error)),setTimeout((function(){I(null)}),5e3)}))}}),Object(c.jsx)("h2",{children:"Contact List"}),Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsxs)("li",{children:[e.name," ",e.number,Object(c.jsx)("button",{onClick:function(){J(e.id,e.name)},children:"Delete"})]},e.id)}))})]})};r.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.78887ed5.chunk.js.map